<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset="utf-8">
    <meta name="author" content="Antonio Montalvo">
    <meta name="description" content="More Basic Stuff">
    <!-- Bootstrap -->
    <link rel="stylesheet" href="/assets/css/normalize.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css?family=BioRhyme|Montserrat:200" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/style.css">
    <title>Subqueries and more</title>
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-md-2">
                <img id="logo" src="assets/images/logo.png" alt="Logo">
            </div>
            <div class="col-md-10">
                <ul class=" nav nav-pills justify-content-end" id="level-nav">
                    <li class="nav-item "><a class="nav-link" href="/">MySQL</a></li>
                    <li class="nav-item "><a class="nav-link" href="/definition-statements">Definition Statements</a></li>
                    <li class="nav-item "><a class="nav-link" href="/insert-select">Manipulation Statements</a></li>
                    <li class="nav-item "><a class="nav-link" href="#">Subqueries and more</a></li>
                    <li class="nav-item "><a class="nav-link" href="/join">Basic Join Syntax</a></li>
                </ul>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>Beyond C.R.U.D.</h1>
                <hr class="my-4">
            </div>
        </div>
    </div>
    <div class="container" id="content">
        <div class="row">
            <div class="col-md-2">
                <h5>Resources</h5>
                <ul>
                    <li><a href="https://dev.mysql.com/doc/refman/5.7/en/sql-syntax-data-definition.html" title="official data definition statements" target="_blank">Data Definition Statements</a></li>
                    <li><a href="https://dev.mysql.com/doc/refman/5.7/en/sql-syntax-data-manipulation.html" title="official data manupulation statements" target="_blank">Data Manipulation Statements</a></li>
                </ul>
            </div>
            <div class="col-md-8">
                <h2>Unique Indexes</h2>
                <p>In the previous table we saw how when adding a PRIMARY KEY we assign an integer to help identify our user. Now we are going to create a new table to store data about all 50 states in the US. Now we not only want to have a PRIMARY KEY but also we want the name of each state to be UNIQUE</p>
                <img src="assets/images/unique.png" alt="Unique Index">
                <p>Let's modify the states table adding the Annexation year.</p>
                <code>ALTER TABLE states ADD annexation_year INT  AFTER name;</code>
                <p>And.. let's add an index to the annexation_year.</p>
                <code>ALTER TABLE states ADD INDEX (annexation_year);</code>
                <p>Now we have our final structure for the states table.</p>
                <img src="assets/images/states_config.png" alt="">
                <p>You may want to drop the states table and grab the code below to create and Insert data in one move. Here we have the name of the state, the annexation date and the population.</p>
                <img src="assets/images/states-values.png" alt="all fifty states  in the states table">
                <p>Use this code:</p>
                <code>CREATE TABLE states (
                      id INT AUTO_INCREMENT,
                      name VARCHAR(20),
                      join_year INT,
                      population INT,
                      PRIMARY KEY (id),
                      UNIQUE (name),
                      KEY (join_year)
                    );
                     
                     
                    INSERT INTO states VALUES
                    (1, 'Alabama', 1819, 4661900),
                    (2, 'Alaska', 1959, 686293),
                    (3, 'Arizona', 1912, 6500180),
                    (4, 'Arkansas', 1836, 2855390),
                    (5, 'California', 1850, 36756666),
                    (6, 'Colorado', 1876, 4939456),
                    (7, 'Connecticut', 1788, 3501252),
                    (8, 'Delaware', 1787, 873092),
                    (9, 'Florida', 1845, 18328340),
                    (10, 'Georgia', 1788, 9685744),
                    (11, 'Hawaii', 1959, 1288198),
                    (12, 'Idaho', 1890, 1523816),
                    (13, 'Illinois', 1818, 12901563),
                    (14, 'Indiana', 1816, 6376792),
                    (15, 'Iowa', 1846, 3002555),
                    (16, 'Kansas', 1861, 2802134),
                    (17, 'Kentucky', 1792, 4269245),
                    (18, 'Louisiana', 1812, 4410796),
                    (19, 'Maine', 1820, 1316456),
                    (20, 'Maryland', 1788, 5633597),
                    (21, 'Massachusetts', 1788, 6497967),
                    (22, 'Michigan', 1837, 10003422),
                    (23, 'Minnesota', 1858, 5220393),
                    (24, 'Mississippi', 1817, 2938618),
                    (25, 'Missouri', 1821, 5911605),
                    (26, 'Montana', 1889, 967440),
                    (27, 'Nebraska', 1867, 1783432),
                    (28, 'Nevada', 1864, 2600167),
                    (29, 'New Hampshire', 1788, 1315809),
                    (30, 'New Jersey', 1787, 8682661),
                    (31, 'New Mexico', 1912, 1984356),
                    (32, 'New York', 1788, 19490297),
                    (33, 'North Carolina', 1789, 9222414),
                    (34, 'North Dakota', 1889, 641481),
                    (35, 'Ohio', 1803, 11485910),
                    (36, 'Oklahoma', 1907, 3642361),
                    (37, 'Oregon', 1859, 3790060),
                    (38, 'Pennsylvania', 1787, 12448279),
                    (39, 'Rhode Island', 1790, 1050788),
                    (40, 'South Carolina', 1788, 4479800),
                    (41, 'South Dakota', 1889, 804194),
                    (42, 'Tennessee', 1796, 6214888),
                    (43, 'Texas', 1845, 24326974),
                    (44, 'Utah', 1896, 2736424),
                    (45, 'Vermont', 1791, 621270),
                    (46, 'Virginia', 1788, 7769089),
                    (47, 'Washington', 1889, 6549224),
                    (48, 'West Virginia', 1863, 1814468),
                    (49, 'Wisconsin', 1848, 5627967),
                    (50, 'Wyoming', 1890, 532668);
            </code>
            <h2>Counting</h2>
           <p>Let's query the states table and count. How Many states?, How many states by annexation year? How many states did it in the year 1787</p>
           <img src="assets/images/count.png" alt="querying by counting">
           <h2>Maths</h2>
           <h3>MIN(), MAX() and AVG()</h3>
           <img src="assets/images/max-min-avd.png" alt="maximun minimun and averages">
           <h3>SUM()</h3>
           <img src="assets/images/sum.png" alt="sum">
           <h2>Control Flow</h2>
           <h3>IF()</h3>
           <img src="assets/images/if.png" alt="if statement">
           <h3>Switch statement with CASE()</h3>
           <img src="assets/images/switch.png" alt="switch statement">
           <h2>Subqueries</h2>
           <p>Get the state with the highest population and the last states that joined the Union.</p>
           <h2>Combining Data</h2>
           <h3>Using UNION</h3>
           <p>This example combines states that start with the letter 'N' and states with large populations:</p>
           <img src="assets/images/subqueries.png" alt="subqueries">
            </div>
            <div class="col-md-2">
                <h5>In this page</h5>
                <ul>
                    <li><a href="#select-all">Select All Data</a></li>
                </ul>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
    <script type="text/javascript" src="/js/app.js"></script>
</body>

</html>